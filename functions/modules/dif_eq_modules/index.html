<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>Differential equations modules - AlphaPEM</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../../assets/_mkdocstrings.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Differential equations modules";
        var mkdocs_page_input_path = "functions/modules/dif_eq_modules.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> AlphaPEM
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Functions</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../../GUI/">GUI</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../main/">Main</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Calibration</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../calibration/experimental_values/">Experimental values</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../calibration/parameter_calibration/">Parameter calibration</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Configuration</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../configuration/current_densities/">Current densities</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../configuration/settings/">Settings</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Model</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../model/AlphaPEM/">AlphaPEM</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../model/auxiliaries/">Auxiliaries</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../model/cell_voltage/">Cell voltage</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../model/control/">Control</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../model/dif_eq/">Differentiel equations</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../model/flows/">Flows</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" >Modules</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../auxiliaries_modules/">Auxiliaries modules</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../calibration_modules/">Calibration modules</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="#">Differential equations modules</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../display_modules/">Display modules</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../flows_modules/">Flows modules</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../GUI_modules/">GUI modules</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../main_modules/">Main modules</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../settings_modules/">Settings modules</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../transitory_functions/">Transitory functions</a>
                </li>
    </ul>
                  </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../../about/">About</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">AlphaPEM</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Functions</li>
          <li class="breadcrumb-item">Modules</li>
      <li class="breadcrumb-item active">Differential equations modules</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="differential-equations-modules">Differential equations modules</h1>


<div class="doc doc-object doc-module">



<a id="modules.dif_eq_modules"></a>
    <div class="doc doc-contents first">

        <p>This module is used to determine intermediate values for the calculation of the differential equations
and to implement integration events.</p>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="modules.dif_eq_modules.desired_flows" class="doc doc-heading">
            <code class="highlight language-python">desired_flows(solver_variables, control_variables, i_n, i_fc, operating_inputs, parameters, Mext)</code>

</h2>


    <div class="doc doc-contents ">

        <p>This function calculates the desired flow for the air compressor and the humidifiers. These desired flow are
different from the real ones as the corresponding machines takes time to reach the desired values.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>solver_variables</code></b>
                  (<code>dict</code>)
              –
              <div class="doc-md-description">
                <p>Variables calculated by the solver. They correspond to the fuel cell internal states.</p>
              </div>
            </li>
            <li>
              <b><code>control_variables</code></b>
                  (<code>dict</code>)
              –
              <div class="doc-md-description">
                <p>Variables controlled by the user.</p>
              </div>
            </li>
            <li>
              <b><code>i_n</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>Internal current density (A/m²).</p>
              </div>
            </li>
            <li>
              <b><code>i_fc</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>Fuel cell current density (A/m²).</p>
              </div>
            </li>
            <li>
              <b><code>operating_inputs</code></b>
                  (<code>dict</code>)
              –
              <div class="doc-md-description">
                <p>Operating inputs of the fuel cell.</p>
              </div>
            </li>
            <li>
              <b><code>parameters</code></b>
                  (<code>dict</code>)
              –
              <div class="doc-md-description">
                <p>Parameters of the fuel cell model.</p>
              </div>
            </li>
            <li>
              <b><code>Mext</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>Molar mass of the ambient air outside the stack (kg/mol).</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Returns:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
<b><code>Wcp_des</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>Desired air compressor flow rate (kg/s).</p>
              </div>
            </li>
            <li>
<b><code>Wa_inj_des</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>Desired humidifier flow rate at the anode side (kg/s).</p>
              </div>
            </li>
            <li>
<b><code>Wc_inj_des</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>Desired humidifier flow rate at the cathode side (kg/s).</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
            <details class="quote">
              <summary>Source code in <code>modules/dif_eq_modules.py</code></summary>
              <pre class="highlight"><code class="language-python">def desired_flows(solver_variables, control_variables, i_n, i_fc, operating_inputs, parameters, Mext):
    """
    This function calculates the desired flow for the air compressor and the humidifiers. These desired flow are
    different from the real ones as the corresponding machines takes time to reach the desired values.

    Parameters
    ----------
    solver_variables : dict
        Variables calculated by the solver. They correspond to the fuel cell internal states.
    control_variables : dict
        Variables controlled by the user.
    i_n : float
        Internal current density (A/m²).
    i_fc : float
        Fuel cell current density (A/m²).
    operating_inputs : dict
        Operating inputs of the fuel cell.
    parameters : dict
        Parameters of the fuel cell model.
    Mext : float
        Molar mass of the ambient air outside the stack (kg/mol).

    Returns
    -------
    Wcp_des : float
        Desired air compressor flow rate (kg/s).
    Wa_inj_des : float
        Desired humidifier flow rate at the anode side (kg/s).
    Wc_inj_des : float
        Desired humidifier flow rate at the cathode side (kg/s).
    """

    # Extraction of the variables
    Pasm, Pcsm, Wcp = solver_variables['Pasm'], solver_variables['Pcsm'], solver_variables['Wcp']
    # Extraction of the operating inputs and the parameters
    Tfc, Sa, Sc = operating_inputs['Tfc'], operating_inputs['Sa'], operating_inputs['Sc']
    Phi_a_des, Phi_c_des = control_variables['Phi_a_des'], control_variables['Phi_c_des']
    Aact, type_auxiliary = parameters['Aact'], parameters['type_auxiliary']

    if type_auxiliary == "closed_anode_with_recirculation" or type_auxiliary == "opened_anode":
        # Intermediate values
        Prd = Pasm
        Pcp = Pcsm

        # The desired air compressor flow rate Wcp_des (kg.s-1)
        Wcp_des = n_cell * Mext * Pext / (Pext - Phi_ext * Psat(Text)) * \
                  1 / yO2_ext * Sc * (i_fc + i_n) / (4 * F) * Aact

        # The desired humidifier flow rate at the anode side Wa_v_inj_des (kg.s-1)
        Wrd = M_H2 * Sa * (i_fc + i_n) / (2 * F) * Aact
        Wa_inj_des = (M_H2O * Phi_a_des * Psat(Tfc) / (Prd + Phi_a_des * Psat(Tfc)) /
                      (1 - Phi_a_des * Psat(Tfc) / (Prd + Phi_a_des * Psat(Tfc))) * (Wrd / M_H2))

        # The desired humidifier flow rate at the cathode side Wc_inj_des (kg.s-1)
        Wv_hum_in = M_H2O * Phi_ext * Psat(Text) / Pext * (Wcp / Mext)  # Vapor flow rate from the outside
        Wc_v_des = M_H2O * Phi_c_des * Psat(Tfc) / Pcp * (Wcp / Mext)  # Desired vapor flow rate
        Wc_inj_des = Wc_v_des - Wv_hum_in  # Desired humidifier flow rate

    else:  # elif type_auxiliary == "no_auxiliary":
        Wcp_des, Wa_inj_des, Wc_inj_des = 0, 0, 0

    return Wcp_des, Wa_inj_des, Wc_inj_des</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="modules.dif_eq_modules.dif_eq_int_values" class="doc doc-heading">
            <code class="highlight language-python">dif_eq_int_values(solver_variables, control_variables, operating_inputs, parameters)</code>

</h2>


    <div class="doc doc-contents ">

        <p>This functions calculates intermediate values for the calculation of the differential equations</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>solver_variables</code></b>
                  (<code>dict</code>)
              –
              <div class="doc-md-description">
                <p>Variables calculated by the solver. They correspond to the fuel cell internal states.</p>
              </div>
            </li>
            <li>
              <b><code>control_variables</code></b>
                  (<code>dict</code>)
              –
              <div class="doc-md-description">
                <p>Variables controlled by the user.</p>
              </div>
            </li>
            <li>
              <b><code>operating_inputs</code></b>
                  (<code>dict</code>)
              –
              <div class="doc-md-description">
                <p>Operating inputs of the fuel cell.</p>
              </div>
            </li>
            <li>
              <b><code>parameters</code></b>
                  (<code>dict</code>)
              –
              <div class="doc-md-description">
                <p>Parameters of the fuel cell model.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Returns:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
<b><code>Mext</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>Molar mass of the ambient air outside the stack (kg/mol).</p>
              </div>
            </li>
            <li>
<b><code>Pagc</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>Global pressure in the anode gas channel (Pa).</p>
              </div>
            </li>
            <li>
<b><code>Pcgc</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>Global pressure in the cathode gas channel (Pa).</p>
              </div>
            </li>
            <li>
<b><code>i_n</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>Internal current density (A/m²).</p>
              </div>
            </li>
            <li>
<b><code>Masm</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>Molar mass of all the gas species in the anode supply manifold (kg/mol).</p>
              </div>
            </li>
            <li>
<b><code>Maem</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>Molar mass of all the gas species in the anode external manifold (kg/mol).</p>
              </div>
            </li>
            <li>
<b><code>Mcsm</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>Molar mass of all the gas species in the cathode supply manifold (kg/mol).</p>
              </div>
            </li>
            <li>
<b><code>Mcem</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>Molar mass of all the gas species in the cathode external manifold (kg/mol).</p>
              </div>
            </li>
            <li>
                  <code>rho_H2O(Tfc) : float</code>
              –
              <div class="doc-md-description">
                <p>Density of water vapor at the fuel cell temperature (kg/m³).</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
            <details class="quote">
              <summary>Source code in <code>modules/dif_eq_modules.py</code></summary>
              <pre class="highlight"><code class="language-python">def dif_eq_int_values(solver_variables, control_variables, operating_inputs, parameters):
    """This functions calculates intermediate values for the calculation of the differential equations

        Parameters
        ----------
        solver_variables : dict
            Variables calculated by the solver. They correspond to the fuel cell internal states.
        control_variables : dict
            Variables controlled by the user.
        operating_inputs : dict
            Operating inputs of the fuel cell.
        parameters : dict
            Parameters of the fuel cell model.

        Returns
        -------
        Mext : float
            Molar mass of the ambient air outside the stack (kg/mol).
        Pagc : float
            Global pressure in the anode gas channel (Pa).
        Pcgc : float
            Global pressure in the cathode gas channel (Pa).
        i_n : float
            Internal current density (A/m²).
        Masm : float
            Molar mass of all the gas species in the anode supply manifold (kg/mol).
        Maem : float
            Molar mass of all the gas species in the anode external manifold (kg/mol).
        Mcsm : float
            Molar mass of all the gas species in the cathode supply manifold (kg/mol).
        Mcem : float
            Molar mass of all the gas species in the cathode external manifold (kg/mol).
        rho_H2O(Tfc) : float
            Density of water vapor at the fuel cell temperature (kg/m³).
        """

    # Extraction of the variables
    C_v_agc, C_v_cgc = solver_variables['C_v_agc'], solver_variables['C_v_cgc']
    C_H2_agc, C_H2_acl = solver_variables['C_H2_agc'], solver_variables['C_H2_acl']
    C_O2_ccl, C_O2_cgc, C_N2 = solver_variables['C_O2_ccl'], solver_variables['C_O2_cgc'], solver_variables['C_N2']
    lambda_mem, Pasm = solver_variables['lambda_mem'], solver_variables['Pasm']
    Paem, Pcsm, Pcem = solver_variables['Paem'], solver_variables['Pcsm'], solver_variables['Pcem']
    # Extraction of the operating inputs and the parameters
    Tfc, Phi_c_des = operating_inputs['Tfc'], control_variables['Phi_c_des']
    Hmem, kappa_co = parameters['Hmem'], parameters['kappa_co']

    # Physical quantities outside the stack
    # Molar masses
    Mext = Phi_ext * Psat(Text) / Pext * M_H2O + \
           yO2_ext * (1 - Phi_ext * Psat(Text) / Pext) * M_O2 + \
           (1 - yO2_ext) * (1 - Phi_ext * Psat(Text) / Pext) * M_N2

    # Physical quantities inside the stack
    #       Pressures
    Pagc = (C_v_agc + C_H2_agc) * R * Tfc
    Pcgc = (C_v_cgc + C_O2_cgc + C_N2) * R * Tfc
    #       Humidities
    Phi_agc = C_v_agc / C_v_sat(Tfc)
    Phi_cgc = C_v_cgc / C_v_sat(Tfc)
    #       Oxygen ratio in dry air
    y_c = C_O2_cgc / (C_O2_cgc + C_N2)
    #       Internal current density
    i_H2 = 2 * F * R * Tfc / Hmem * C_H2_acl * k_H2(lambda_mem, Tfc, kappa_co)
    i_O2 = 4 * F * R * Tfc / Hmem * C_O2_ccl * k_O2(lambda_mem, Tfc, kappa_co)
    i_n = i_H2 + i_O2

    # Physical quantities inside the auxiliary system
    if parameters["type_auxiliary"] == "closed_anode_with_recirculation" or parameters["type_auxiliary"] == "opened_anode":
        # Pressure
        Pp = Pasm
        # Humidities
        Phi_aem = Phi_agc * Paem / Pagc
        Phi_asm = Phi_aem * Pp / Paem
        Phi_cem = Phi_cgc * Pcem / Pcgc
        # Molar masses
        Masm = Phi_asm * Psat(Tfc) / Pasm * M_H2O + \
               (1 - Phi_asm * Psat(Tfc) / Pasm) * M_H2
        Maem = Phi_aem * Psat(Tfc) / Paem * M_H2O + \
               (1 - Phi_aem * Psat(Tfc) / Paem) * M_H2
        Mcsm = Phi_c_des * Psat(Tfc) / Pcsm * M_H2O + \
               yO2_ext * (1 - Phi_c_des * Psat(Tfc) / Pcsm) * M_O2 + \
               (1 - yO2_ext) * (1 - Phi_c_des * Psat(Tfc) / Pcsm) * M_N2
        Mcem = Phi_cem * Psat(Tfc) / Pcem * M_H2O + \
               y_c * (1 - Phi_cem * Psat(Tfc) / Pcem) * M_O2 + \
               (1 - y_c) * (1 - Phi_cem * Psat(Tfc) / Pcem) * M_N2
    else:  # parameters["type_auxiliary"] == "no_auxiliary"
        Masm, Maem, Mcsm, Mcem = [0] * 4

    return Mext, Pagc, Pcgc, i_n, Masm, Maem, Mcsm, Mcem, rho_H2O(Tfc)</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="modules.dif_eq_modules.event_negative" class="doc doc-heading">
            <code class="highlight language-python">event_negative(t, y, operating_inputs, parameters, solver_variable_names, control_variables)</code>

</h2>


    <div class="doc doc-contents ">

        <p>This function creates an event that will be checked at each step of solve_ivp integration. The integration stops
if one of the crucial variables (C_v, lambda, C_O2, C_H2) becomes negative (or smaller than 1e-5).</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>t</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>Time (s).</p>
              </div>
            </li>
            <li>
              <b><code>y</code></b>
                  (<code><span title="numpy.ndarray">ndarray</span></code>)
              –
              <div class="doc-md-description">
                <p>Numpy list of the solver variables.</p>
              </div>
            </li>
            <li>
              <b><code>operating_inputs</code></b>
                  (<code>dict</code>)
              –
              <div class="doc-md-description">
                <p>Operating inputs of the fuel cell.</p>
              </div>
            </li>
            <li>
              <b><code>parameters</code></b>
                  (<code>dict</code>)
              –
              <div class="doc-md-description">
                <p>Parameters of the fuel cell model.</p>
              </div>
            </li>
            <li>
              <b><code>solver_variable_names</code></b>
                  (<code>list</code>)
              –
              <div class="doc-md-description">
                <p>Names of the solver variables.</p>
              </div>
            </li>
            <li>
              <b><code>control_variables</code></b>
                  (<code>dict</code>)
              –
              <div class="doc-md-description">
                <p>Variables controlled by the user.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Returns:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
                  <code>The difference between the minimum value of the crucial variables and 1e-5.</code>
              –
              <div class="doc-md-description">
                
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
            <details class="quote">
              <summary>Source code in <code>modules/dif_eq_modules.py</code></summary>
              <pre class="highlight"><code class="language-python">def event_negative(t, y, operating_inputs, parameters, solver_variable_names, control_variables):
    """This function creates an event that will be checked at each step of solve_ivp integration. The integration stops
    if one of the crucial variables (C_v, lambda, C_O2, C_H2) becomes negative (or smaller than 1e-5).

    Parameters
    ----------
    t : float
        Time (s).
    y : numpy.ndarray
        Numpy list of the solver variables.
    operating_inputs : dict
        Operating inputs of the fuel cell.
    parameters : dict
        Parameters of the fuel cell model.
    solver_variable_names : list
        Names of the solver variables.
    control_variables : dict
        Variables controlled by the user.

    Returns
    -------
    The difference between the minimum value of the crucial variables and 1e-5.
    """

    negative_solver_variables = {} # Dictionary to store the crucial variables
    for index, key in enumerate(solver_variable_names):
        if (key.startswith("C_v_")) or (key.startswith("lambda_")) or \
                (key.startswith("C_O2_")) or (key.startswith("C_H2_")):
            negative_solver_variables[key] = y[index]
    return min(negative_solver_variables.values()) - 1e-5  # 1e-5 is a control parameter to stop the program before</code></pre>
            </details>
    </div>

</div>



  </div>

    </div>

</div>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../calibration_modules/" class="btn btn-neutral float-left" title="Calibration modules"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../display_modules/" class="btn btn-neutral float-right" title="Display modules">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../calibration_modules/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../display_modules/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../..";</script>
    <script src="../../../js/theme_extra.js"></script>
    <script src="../../../js/theme.js"></script>
      <script src="../../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
