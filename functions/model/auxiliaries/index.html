<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>Auxiliaries - AlphaPEM</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../../assets/_mkdocstrings.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Auxiliaries";
        var mkdocs_page_input_path = "functions/model/auxiliaries.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> AlphaPEM
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Functions</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../../GUI/">GUI</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../main/">Main</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Calibration</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../calibration/experimental_values/">Experimental values</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../calibration/parameter_calibration/">Parameter calibration</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Configuration</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../configuration/current_densities/">Current densities</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../configuration/settings/">Settings</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" >Model</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../AlphaPEM/">AlphaPEM</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="#">Auxiliaries</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../cell_voltage/">Cell voltage</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../control/">Control</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../dif_eq/">Differentiel equations</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../flows/">Flows</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Modules</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../modules/auxiliaries_modules/">Auxiliaries modules</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../modules/calibration_modules/">Calibration modules</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../modules/dif_eq_modules/">Differential equations modules</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../modules/display_modules/">Display modules</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../modules/flows_modules/">Flows modules</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../modules/GUI_modules/">GUI modules</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../modules/main_modules/">Main modules</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../modules/settings_modules/">Settings modules</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../modules/transitory_functions/">Transitory functions</a>
                </li>
    </ul>
                  </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../../about/">About</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">AlphaPEM</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Functions</li>
          <li class="breadcrumb-item">Model</li>
      <li class="breadcrumb-item active">Auxiliaries</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="auxiliaries">Auxiliaries</h1>


<div class="doc doc-object doc-module">



<a id="model.auxiliaries"></a>
    <div class="doc doc-contents first">

        <p>This file represents all the flows passing through the auxiliaries. It is a component of the fuel cell model.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="model.auxiliaries.auxiliaries" class="doc doc-heading">
            <code class="highlight language-python">auxiliaries(t, solver_variables, control_variables, i_fc, operating_inputs, parameters)</code>

</h2>


    <div class="doc doc-contents ">

        <p>This function calculates the flows passing through the auxiliaries.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>t</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>Time (s).</p>
              </div>
            </li>
            <li>
              <b><code>solver_variables</code></b>
                  (<code>dict</code>)
              –
              <div class="doc-md-description">
                <p>Variables calculated by the solver. They correspond to the fuel cell internal states.</p>
              </div>
            </li>
            <li>
              <b><code>control_variables</code></b>
                  (<code>dict</code>)
              –
              <div class="doc-md-description">
                <p>Variables controlled by the user.</p>
              </div>
            </li>
            <li>
              <b><code>i_fc</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>Fuel cell current density at time t (A.m-2).</p>
              </div>
            </li>
            <li>
              <b><code>operating_inputs</code></b>
                  (<code>dict</code>)
              –
              <div class="doc-md-description">
                <p>Operating inputs of the fuel cell.</p>
              </div>
            </li>
            <li>
              <b><code>parameters</code></b>
                  (<code>dict</code>)
              –
              <div class="doc-md-description">
                <p>Parameters of the fuel cell model.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Returns:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
<b><code>Jv_a_in</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>Vapor flow at the anode gas channel inlet (mol.m-2.s-1).</p>
              </div>
            </li>
            <li>
<b><code>Jv_a_out</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>Vapor flow at the anode gas channel outlet (mol.m-2.s-1).</p>
              </div>
            </li>
            <li>
<b><code>Jv_c_in</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>Vapor flow at the cathode gas channel inlet (mol.m-2.s-1).</p>
              </div>
            </li>
            <li>
<b><code>Jv_c_out</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>Vapor flow at the cathode gas channel outlet (mol.m-2.s-1).</p>
              </div>
            </li>
            <li>
<b><code>J_H2_in</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>H2 flow at the anode gas channel inlet (mol.m-2.s-1).</p>
              </div>
            </li>
            <li>
<b><code>J_H2_out</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>H2 flow at the anode gas channel outlet (mol.m-2.s-1).</p>
              </div>
            </li>
            <li>
<b><code>J_O2_in</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>O2 flow at the cathode gas channel inlet (mol.m-2.s-1).</p>
              </div>
            </li>
            <li>
<b><code>J_O2_out</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>O2 flow at the cathode gas channel outlet (mol.m-2.s-1).</p>
              </div>
            </li>
            <li>
<b><code>J_N2_in</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>N2 flow at the cathode gas channel inlet (mol.m-2.s-1).</p>
              </div>
            </li>
            <li>
<b><code>J_N2_out</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>N2 flow at the cathode gas channel outlet (mol.m-2.s-1).</p>
              </div>
            </li>
            <li>
<b><code>Wasm_in</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>Anode side supply manifold inlet flow (kg.s-1).</p>
              </div>
            </li>
            <li>
<b><code>Wasm_out</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>Anode side supply manifold outlet flow (kg.s-1).</p>
              </div>
            </li>
            <li>
<b><code>Waem_in</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>Anode side external manifold inlet flow (kg.s-1).</p>
              </div>
            </li>
            <li>
<b><code>Waem_out</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>Anode side external manifold outlet flow (kg.s-1).</p>
              </div>
            </li>
            <li>
<b><code>Wcsm_in</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>Cathode side supply manifold inlet flow (kg.s-1).</p>
              </div>
            </li>
            <li>
<b><code>Wcsm_out</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>Cathode side supply manifold outlet flow (kg.s-1).</p>
              </div>
            </li>
            <li>
<b><code>Wcem_in</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>Cathode side external manifold inlet flow (kg.s-1).</p>
              </div>
            </li>
            <li>
<b><code>Wcem_out</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>Cathode side external manifold outlet flow (kg.s-1).</p>
              </div>
            </li>
            <li>
<b><code>Ware</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>Anode side recirculation flow (kg.s-1).</p>
              </div>
            </li>
            <li>
<b><code>Wv_asm_in</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>Vapor flow at the anode supply manifold inlet (mol.s-1).</p>
              </div>
            </li>
            <li>
<b><code>Wv_aem_out</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>Vapor flow at the anode external manifold outlet (mol.s-1).</p>
              </div>
            </li>
            <li>
<b><code>Wv_csm_in</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>Vapor flow at the cathode supply manifold inlet (mol.s-1).</p>
              </div>
            </li>
            <li>
<b><code>Wv_cem_out</code></b>(                  <code>float</code>
)              –
              <div class="doc-md-description">
                <p>Vapor flow at the cathode external manifold outlet (mol.s-1).</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
            <details class="quote">
              <summary>Source code in <code>model/auxiliaries.py</code></summary>
              <pre class="highlight"><code class="language-python">def auxiliaries(t, solver_variables, control_variables, i_fc, operating_inputs, parameters):
    """This function calculates the flows passing through the auxiliaries.

    Parameters
    ----------
    t : float
        Time (s).
    solver_variables : dict
        Variables calculated by the solver. They correspond to the fuel cell internal states.
    control_variables : dict
        Variables controlled by the user.
    i_fc : float
        Fuel cell current density at time t (A.m-2).
    operating_inputs : dict
        Operating inputs of the fuel cell.
    parameters : dict
        Parameters of the fuel cell model.

    Returns
    -------
    Jv_a_in : float
        Vapor flow at the anode gas channel inlet (mol.m-2.s-1).
    Jv_a_out : float
        Vapor flow at the anode gas channel outlet (mol.m-2.s-1).
    Jv_c_in : float
        Vapor flow at the cathode gas channel inlet (mol.m-2.s-1).
    Jv_c_out : float
        Vapor flow at the cathode gas channel outlet (mol.m-2.s-1).
    J_H2_in : float
        H2 flow at the anode gas channel inlet (mol.m-2.s-1).
    J_H2_out : float
        H2 flow at the anode gas channel outlet (mol.m-2.s-1).
    J_O2_in : float
        O2 flow at the cathode gas channel inlet (mol.m-2.s-1).
    J_O2_out : float
        O2 flow at the cathode gas channel outlet (mol.m-2.s-1).
    J_N2_in : float
        N2 flow at the cathode gas channel inlet (mol.m-2.s-1).
    J_N2_out : float
        N2 flow at the cathode gas channel outlet (mol.m-2.s-1).
    Wasm_in : float
        Anode side supply manifold inlet flow (kg.s-1).
    Wasm_out : float
        Anode side supply manifold outlet flow (kg.s-1).
    Waem_in : float
        Anode side external manifold inlet flow (kg.s-1).
    Waem_out : float
        Anode side external manifold outlet flow (kg.s-1).
    Wcsm_in : float
        Cathode side supply manifold inlet flow (kg.s-1).
    Wcsm_out : float
        Cathode side supply manifold outlet flow (kg.s-1).
    Wcem_in : float
        Cathode side external manifold inlet flow (kg.s-1).
    Wcem_out : float
        Cathode side external manifold outlet flow (kg.s-1).
    Ware : float
        Anode side recirculation flow (kg.s-1).
    Wv_asm_in : float
        Vapor flow at the anode supply manifold inlet (mol.s-1).
    Wv_aem_out : float
        Vapor flow at the anode external manifold outlet (mol.s-1).
    Wv_csm_in : float
        Vapor flow at the cathode supply manifold inlet (mol.s-1).
    Wv_cem_out : float
        Vapor flow at the cathode external manifold outlet (mol.s-1).
    """

    # __________________________________________________Preliminaries___________________________________________________

    # Extraction of the variables
    Pasm, Paem, Pcsm = solver_variables['Pasm'], solver_variables['Paem'], solver_variables['Pcsm']
    Pcem, Phi_asm, Phi_aem = solver_variables['Pcem'], solver_variables['Phi_asm'], solver_variables['Phi_aem']
    Phi_csm, Phi_cem = solver_variables['Phi_csm'], solver_variables['Phi_cem']
    Wcp, Wa_inj, Wc_inj = solver_variables['Wcp'], solver_variables['Wa_inj'], solver_variables['Wc_inj']

    # Extraction of the operating inputs and the parameters
    Tfc, Pa_des, Pc_des = operating_inputs['Tfc'], operating_inputs['Pa_des'], operating_inputs['Pc_des']
    Sa, Sc = operating_inputs['Sa'], operating_inputs['Sc']
    Phi_a_des, Phi_c_des = control_variables['Phi_a_des'], control_variables['Phi_c_des']
    Aact, Hgc, Wgc = parameters['Aact'], parameters['Hgc'], parameters['Wgc']
    type_auxiliary = parameters['type_auxiliary']

    # Intermediate values
    Mext, Pagc, Pcgc, Phi_agc, Phi_cgc, y_cgc, Magc, Mcgc, Pr_aem, Pr_cem, \
        Maem, Masm, Mcem, Mcsm, k_purge, Abp_a, Abp_c, i_n = \
        auxiliaries_int_values(t, solver_variables, operating_inputs, parameters)

    # _________________________________________Inlet and outlet global flows____________________________________________
    """Global flows here refer to flows that integrate all the chemical species circulating together.
    Slight differences are to be noted in the expression of these flows depending on the type of auxiliary selected.
    """

    # At the anode side
    if type_auxiliary == "forced-convective_cathode_with_anodic_recirculation":
        # Anode inlet
        Wasm_in = Ksm_in * (Pa_des - Pasm)  # kg.s-1
        Wasm_out = Ksm_out * (Pasm - Pagc)  # kg.s-1
        Ja_in = Wasm_out / (Hgc * Wgc * Masm)  # mol.m-2.s-1
        # Anode outlet
        Waem_in = Kem_in * (Pagc - Paem)  # kg.s-1
        Ware = n_cell * Maem * (Paem / (Paem - Phi_aem * Psat(Tfc))) * (Sa - 1) * (i_fc + i_n) / (
                    2 * F) * Aact  # kg.s-1
        Waem_out = k_purge * C_D * A_T * Paem / np.sqrt(R * Tfc) * Pr_aem ** (1 / gamma_H2) * \
                   np.sqrt(Magc * 2 * gamma_H2 / (gamma_H2 - 1) * (1 - Pr_aem ** ((gamma_H2 - 1) / gamma_H2)))  # kg.s-1
        Ja_out = Waem_in / (Hgc * Wgc * Magc)  # mol.m-2.s-1

    elif type_auxiliary == "forced-convective_cathode_with_flow-through_anode":
        # Anode inlet
        Wrd = n_cell * M_H2 * Sa * (i_fc + i_n) / (2 * F) * Aact  # kg.s-1
        Wasm_in = Wrd + Wa_inj  # kg.s-1
        Wasm_out = Ksm_out * (Pasm - Pagc)  # kg.s-1
        Ja_in = Wasm_out / (Hgc * Wgc * Masm)  # mol.m-2.s-1
        # Anode outlet
        Waem_in = Kem_in * (Pagc - Paem)  # kg.s-1
        Ware = 0  # kg.s-1
        Waem_out = C_D * Abp_a * Paem / np.sqrt(R * Tfc) * Pr_aem ** (1 / gamma_H2) * \
                   np.sqrt(Magc * 2 * gamma_H2 / (gamma_H2 - 1) * (1 - Pr_aem ** ((gamma_H2 - 1) / gamma_H2)))
        # kg.s-1
        Ja_out = Waem_in / (Hgc * Wgc * Magc)  # mol.m-2.s-1

    else:  # elif type_auxiliary == "no_auxiliary" (only 1 cell):
        # Anode inlet
        Wasm_in, Wasm_out = 0, 0  # kg.s-1
        Ja_in = (1 + Phi_a_des * Psat(Tfc) / (Pagc - Phi_a_des * Psat(Tfc))) * \
                Sa * (i_fc + i_n) / (2 * F) * Aact / (Hgc * Wgc)  # mol.m-2.s-1
        # Anode outlet
        Waem_in, Ware, Waem_out = 0, 0, 0  # kg.s-1
        Ja_out = Kem_in * (Pagc - Pa_des) / (Hgc * Wgc * Magc)  # mol.m-2.s-1

    # At the cathode side
    if type_auxiliary == "forced-convective_cathode_with_anodic_recirculation" or \
       type_auxiliary == "forced-convective_cathode_with_flow-through_anode":
        # Cathode inlet         
        Wcsm_in = Wcp + Wc_inj  # kg.s-1
        Wcsm_out = Ksm_out * (Pcsm - Pcgc)  # kg.s-1
        Jc_in = Wcsm_out / (Hgc * Wgc * Mcsm)  # mol.m-2.s-1
        # Cathode outlet
        Wcem_in = Kem_in * (Pcgc - Pcem)  # kg.s-1
        Wcem_out = C_D * Abp_c * Pcem / np.sqrt(R * Tfc) * Pr_cem ** (1 / gamma) * \
                   np.sqrt(Mcgc * 2 * gamma / (gamma - 1) * (1 - Pr_cem ** ((gamma - 1) / gamma)))  # kg.s-1
        Jc_out = Wcem_in / (Hgc * Wgc * Mcgc)  # mol.m-2.s-1

    else:  # elif type_auxiliary == "no_auxiliary" (only 1 cell):
        # Cathode inlet   
        Wcsm_in, Wcsm_out = 0, 0  # kg.s-1
        Jc_in = (1 + Phi_c_des * Psat(Tfc) / (Pcgc - Phi_c_des * Psat(Tfc))) * \
                1 / yO2_ext * Sc * (i_fc + i_n) / (4 * F) * Aact / (Hgc * Wgc)  # mol.m-2.s-1
        # Cathode outlet
        Wcem_in, Wcem_out = 0, 0  # kg.s-1
        Jc_out = Kem_in * (Pcgc - Pc_des) / (Hgc * Wgc * Mcgc)  # mol.m-2.s-1

    # ________________________________________Inlet and outlet specific flows___________________________________________
    """Specific flows here refer to flows that integrate only a single chemical species within the ensemble of species
     circulating together. For example, only the water vapor flow within the ensemble of hydrogen and water vapor.
     """

    # Vapor flows at the GC (mol.m-2.s-1)
    if type_auxiliary == "forced-convective_cathode_with_anodic_recirculation" or \
       type_auxiliary == "forced-convective_cathode_with_flow-through_anode":
        Jv_a_in = Phi_asm * Psat(Tfc) / Pasm * Ja_in
        Jv_c_in = Phi_csm * Psat(Tfc) / Pcsm * Jc_in
    else:  # elif type_auxiliary == "no_auxiliary":
        Jv_a_in = Phi_a_des * Psat(Tfc) / Pagc * Ja_in
        Jv_c_in = Phi_c_des * Psat(Tfc) / Pcgc * Jc_in
    Jv_a_out = Phi_agc * Psat(Tfc) / Pagc * Ja_out
    Jv_c_out = Phi_cgc * Psat(Tfc) / Pcgc * Jc_out

    # H2 flows at the GC (mol.m-2.s-1)
    if type_auxiliary == "forced-convective_cathode_with_anodic_recirculation" or \
       type_auxiliary == "forced-convective_cathode_with_flow-through_anode":
        J_H2_in = (1 - Phi_asm * Psat(Tfc) / Pasm) * Ja_in
    else:  # elif type_auxiliary == "no_auxiliary":
        J_H2_in = (1 - Phi_a_des * Psat(Tfc) / Pagc) * Ja_in
    J_H2_out = (1 - Phi_agc * Psat(Tfc) / Pagc) * Ja_out

    # O2 flows at the GC (mol.m-2.s-1)
    if type_auxiliary == "forced-convective_cathode_with_anodic_recirculation" or \
       type_auxiliary == "forced-convective_cathode_with_flow-through_anode":
        J_O2_in = yO2_ext * (1 - Phi_csm * Psat(Tfc) / Pcsm) * Jc_in
    else:  # elif type_auxiliary == "no_auxiliary":
        J_O2_in = yO2_ext * (1 - Phi_c_des * Psat(Tfc) / Pcgc) * Jc_in
    J_O2_out = y_cgc * (1 - Phi_cgc * Psat(Tfc) / Pcgc) * Jc_out

    # N2 flows at the GC (mol.m-2.s-1)
    if type_auxiliary == "forced-convective_cathode_with_anodic_recirculation" or \
       type_auxiliary == "forced-convective_cathode_with_flow-through_anode":
        J_N2_in = (1 - yO2_ext) * (1 - Phi_csm * Psat(Tfc) / Pcsm) * Jc_in
    else:  # elif type_auxiliary == "no_auxiliary":
        J_N2_in = (1 - yO2_ext) * (1 - Phi_c_des * Psat(Tfc) / Pcgc) * Jc_in
    J_N2_out = (1 - y_cgc) * (1 - Phi_cgc * Psat(Tfc) / Pcgc) * Jc_out

    # Vapor flows at the manifold (mol.s-1)
    if type_auxiliary == "forced-convective_cathode_with_anodic_recirculation":
        Wv_asm_in = Phi_aem * Psat(Tfc) / Paem * (Ware / Maem)
        Wv_aem_out = Phi_aem * Psat(Tfc) / Paem * (Waem_out / Maem)
        Wv_csm_in = Phi_ext * Psat(Text) / Pext * (Wcp / Mext) + Wc_inj / M_H2O
        Wv_cem_out = Phi_cem * Psat(Tfc) / Pcem * (Wcem_out / Mcem)
    elif type_auxiliary == "forced-convective_cathode_with_flow-through_anode":
        Wv_asm_in = Wa_inj / M_H2O
        Wv_aem_out = Phi_aem * Psat(Tfc) / Paem * (Waem_out / Maem)
        Wv_csm_in = Phi_ext * Psat(Text) / Pext * (Wcp / Mext) + Wc_inj / M_H2O
        Wv_cem_out = Phi_cem * Psat(Tfc) / Pcem * (Wcem_out / Mcem)
    else:  # elif type_auxiliary == "no_auxiliary":
        Wv_asm_in, Wv_aem_out, Wv_csm_in, Wv_cem_out = [0] * 4

    return Jv_a_in, Jv_a_out, Jv_c_in, Jv_c_out, \
        J_H2_in, J_H2_out, J_O2_in, J_O2_out, J_N2_in, J_N2_out, \
        Wasm_in, Wasm_out, Waem_in, Waem_out, Wcsm_in, Wcsm_out, Wcem_in, Wcem_out, Ware, \
        Wv_asm_in, Wv_aem_out, Wv_csm_in, Wv_cem_out</code></pre>
            </details>
    </div>

</div>



  </div>

    </div>

</div>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../AlphaPEM/" class="btn btn-neutral float-left" title="AlphaPEM"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../cell_voltage/" class="btn btn-neutral float-right" title="Cell voltage">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../AlphaPEM/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../cell_voltage/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../..";</script>
    <script src="../../../js/theme_extra.js"></script>
    <script src="../../../js/theme.js"></script>
      <script src="../../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
